(function(){'use strict';const BetThemeApp={config:{breakpoints:{mobile:768,tablet:1024,desktop:1200},animation:{duration:300,easing:'ease-in-out'}},navigation:{init:function(){const mobileMenuToggle=document.getElementById('mobileMenuToggle');const nav=document.getElementById('mainNav');const overlay=document.getElementById('mobileMenuOverlay');const body=document.body;if(!mobileMenuToggle||!nav||!overlay)return;const toggleMenu=function(){const isActive=nav.classList.contains('active');if(isActive){closeMenu()}else{openMenu()}};const openMenu=function(){nav.classList.add('active');mobileMenuToggle.classList.add('active');mobileMenuToggle.setAttribute('aria-expanded','true');body.classList.add('nav-open');body.style.overflow='hidden'};const closeMenu=function(){nav.classList.remove('active');mobileMenuToggle.classList.remove('active');mobileMenuToggle.setAttribute('aria-expanded','false');body.classList.remove('nav-open');body.style.overflow=''};mobileMenuToggle.addEventListener('click',function(e){e.stopPropagation();toggleMenu()});document.addEventListener('click',function(e){if(nav.classList.contains('active')&&!nav.contains(e.target)&&!mobileMenuToggle.contains(e.target)&&window.innerWidth<=1024){closeMenu()}});const dropdownItems=document.querySelectorAll('.nav-item-has-dropdown');dropdownItems.forEach(item=>{const dropdownLink=item.querySelector('.nav-link');if(dropdownLink){dropdownLink.addEventListener('click',function(e){if(window.innerWidth<=1024){e.preventDefault();e.stopPropagation();dropdownItems.forEach(otherItem=>{if(otherItem!==item){otherItem.classList.remove('active')}});item.classList.toggle('active');return!1}})}});const navLinks=document.querySelectorAll('.nav-link');navLinks.forEach(link=>{link.addEventListener('click',function(e){const parent=this.closest('.nav-item-has-dropdown');if(parent&&window.innerWidth<=1024){return}
            if(window.innerWidth<=1024){closeMenu()}})});const dropdownLinks=document.querySelectorAll('.dropdown-link');dropdownLinks.forEach(link=>{link.addEventListener('click',function(){if(window.innerWidth<=1024){closeMenu()}})});document.addEventListener('keydown',function(e){if(e.key==='Escape'&&nav.classList.contains('active')){closeMenu()}});const clearDesktopActiveClasses=function(){if(window.innerWidth>1024){dropdownItems.forEach(item=>{item.classList.remove('active')})}};clearDesktopActiveClasses();window.addEventListener('resize',function(){clearDesktopActiveClasses()});let resizeTimer;window.addEventListener('resize',function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if(window.innerWidth>1024&&nav.classList.contains('active')){closeMenu()}},250)});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){const href=this.getAttribute('href');if(href==='#'||href==='#!')return;const target=document.querySelector(href);if(target){e.preventDefault();const headerHeight=document.querySelector('.header').offsetHeight;const targetPosition=target.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:targetPosition,behavior:'smooth'});if(nav.classList.contains('active')){closeMenu()}}})})}},smoothScroll:{init:function(){document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){const href=this.getAttribute('href');if(href==='#'||href==='#!')return;e.preventDefault();const target=document.querySelector(href);if(target){const headerHeight=document.querySelector('.header')?.offsetHeight||80;const targetPosition=target.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:targetPosition,behavior:'smooth'})}})})}},backToTop:{init:function(){const backToTopBtn=document.querySelector('.back-to-top');if(backToTopBtn){window.addEventListener('scroll',function(){if(window.pageYOffset>300){backToTopBtn.classList.add('visible')}else{backToTopBtn.classList.remove('visible')}});backToTopBtn.addEventListener('click',function(){window.scrollTo({top:0,behavior:'smooth'})})}}},reviewForm:{init:function(){const reviewForm=document.getElementById('reviewForm');if(!reviewForm)return;const starInputs=reviewForm.querySelectorAll('input[type="radio"][name="rating"]');starInputs.forEach(input=>{input.addEventListener('change',function(){const value=parseInt(this.value);console.log('Selected rating:',value)})});reviewForm.addEventListener('submit',function(e){e.preventDefault();const formData={rating:reviewForm.querySelector('input[name="rating"]:checked')?.value,name:reviewForm.querySelector('#review-name').value,email:reviewForm.querySelector('#review-email').value,title:reviewForm.querySelector('#review-title').value,comment:reviewForm.querySelector('#review-comment').value,verified:reviewForm.querySelector('input[name="verified"]:checked')};if(!formData.rating){alert('LÃ¼tfen bir puan seÃ§in.');return}
            if(!formData.verified){alert('LÃ¼tfen doÄŸrulama onayÄ±nÄ± iÅŸaretleyin.');return}
            console.log('Review submitted:',formData);alert('DeÄŸerlendirmeniz iÃ§in teÅŸekkÃ¼rler! Ä°nceleme sonrasÄ± yayÄ±nlanacaktÄ±r.');reviewForm.reset()});const helpfulButtons=document.querySelectorAll('.review-helpful-btn');helpfulButtons.forEach(button=>{button.addEventListener('click',function(e){e.preventDefault();const reviewId=this.getAttribute('data-review-id');const isHelpful=this.querySelector('span:first-child').textContent==='ðŸ‘';console.log('Review helpful:',{reviewId,isHelpful});const countSpan=this.querySelector('span:last-child');const currentCount=parseInt(countSpan.textContent.match(/\d+/)?.[0]||'0');const newCount=currentCount+1;if(isHelpful){countSpan.textContent=`FaydalÄ± (${newCount})`}else{countSpan.textContent=`FaydalÄ± DeÄŸil (${newCount})`}
            this.style.background='var(--primary-light)';this.style.borderColor='var(--primary)';this.style.color='var(--primary)'})})}},lazyLoad:{init:function(){if('loading' in HTMLImageElement.prototype){const images=document.querySelectorAll('img[loading="lazy"]');images.forEach(img=>{if(img.dataset.src){img.src=img.dataset.src}})}else{const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;if(img.dataset.src){img.src=img.dataset.src;img.classList.remove('lazy')}
            observer.unobserve(img)}})});document.querySelectorAll('img.lazy').forEach(img=>{imageObserver.observe(img)})}}},headerScroll:{init:function(){const header=document.querySelector('.header');if(!header)return;let lastScroll=0;window.addEventListener('scroll',function(){const currentScroll=window.pageYOffset;if(currentScroll>100){header.style.boxShadow='0 4px 12px rgba(0, 0, 0, 0.15)'}else{header.style.boxShadow='0 2px 4px rgba(0, 0, 0, 0.1)'}
            lastScroll=currentScroll})}},comparisonFilters:{init:function(){const filterButtons=document.querySelectorAll('.filter-btn');const tableRows=document.querySelectorAll('.comparison-row');if(!filterButtons.length||!tableRows.length)return;filterButtons.forEach(button=>{button.addEventListener('click',function(){const filter=this.getAttribute('data-filter');filterButtons.forEach(btn=>btn.classList.remove('active'));this.classList.add('active');tableRows.forEach(row=>{const bonusType=row.getAttribute('data-bonus-type');if(filter==='all'||bonusType===filter){row.classList.remove('hidden')}else{row.classList.add('hidden')}})})})}},contentNav:{init:function(){const navMenu=document.getElementById('contentNavMenu');const navToggle=document.getElementById('contentNavToggle');const navDesktopToggle=document.getElementById('contentNavDesktopToggle');const navLinks=document.querySelectorAll('.content-nav-link');const sections=document.querySelectorAll('section[id], header[id]');const navHeader=navMenu?navMenu.querySelector('.content-nav-menu-header'):null;if(!navMenu||!navToggle)return;if(window.innerWidth<=768){navMenu.classList.remove('collapsed')}
            if(window.innerWidth>768){navMenu.classList.add('collapsed')}
            if(navDesktopToggle){navDesktopToggle.addEventListener('click',function(e){e.stopPropagation();navMenu.classList.toggle('collapsed')})}
            if(navHeader&&window.innerWidth>768){navHeader.addEventListener('click',function(e){if(e.target!==navDesktopToggle&&!navDesktopToggle.contains(e.target)){navMenu.classList.toggle('collapsed')}})}
            navToggle.addEventListener('click',function(e){e.stopPropagation();const isActive=navMenu.classList.toggle('active');navToggle.classList.toggle('active');if(window.innerWidth<=768){if(isActive){const scrollY=window.scrollY;document.body.style.position='fixed';document.body.style.top=`-${scrollY}px`;document.body.style.width='100%';document.body.classList.add('menu-open')}else{const scrollY=document.body.style.top;document.body.style.position='';document.body.style.top='';document.body.style.width='';document.body.classList.remove('menu-open');if(scrollY){window.scrollTo(0,parseInt(scrollY||'0')*-1)}}}});const activeTitleElement=document.getElementById('contentNavActiveTitle');const sectionTitles={'inceleme-baslik':'Betroad Ä°nceleme','hakkimizda':'Betroad HakkÄ±nda','bonuslar':'Bonuslar ve Detaylar','odeme-yontemleri':'Ã–deme YÃ¶ntemleri','artilar-eksiler':'ArtÄ±larÄ± ve Eksileri','kayit-olma':'NasÄ±l KayÄ±t Olunur','mobil-uygulama':'Mobil Uygulama','sss':'SÄ±kÃ§a Sorulan Sorular','degerlendirmeler':'DeÄŸerlendirmeler'};const updateActiveTitle=function(sectionId){if(!activeTitleElement)return;const title=sectionTitles[sectionId];if(title){activeTitleElement.textContent=title;activeTitleElement.classList.add('show')}else{activeTitleElement.classList.remove('show')}};navLinks.forEach(function(link){link.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');const targetSection=document.querySelector(targetId);if(targetSection){const headerHeight=80;let offset=headerHeight+100;if(window.innerWidth>768&&!navMenu.classList.contains('collapsed')){const navMenuHeight=navMenu.offsetHeight;offset+=navMenuHeight+20}
                if(window.innerWidth<=768){const navMenuHeight=navMenu.querySelector('.content-nav-menu-header').offsetHeight;offset+=navMenuHeight+20}
                const targetPosition=targetSection.offsetTop-offset;if(window.innerWidth<=768){navMenu.classList.remove('active');navToggle.classList.remove('active');const scrollY=document.body.style.top;document.body.style.position='';document.body.style.top='';document.body.style.width='';document.body.classList.remove('menu-open');if(scrollY){window.scrollTo(0,parseInt(scrollY||'0')*-1)}}
                if(window.innerWidth>768){navMenu.classList.add('collapsed')}
                window.scrollTo({top:targetPosition,behavior:'smooth'});setTimeout(function(){updateActiveLink();setTimeout(function(){updateActiveLink()},100)},800);setTimeout(function(){targetSection.classList.add('highlighted');setTimeout(function(){targetSection.classList.remove('highlighted')},1500)},500)}})});const updateActiveLink=function(){const scrollPosition=window.pageYOffset||window.scrollY;const headerHeight=80;let stickyOffset=headerHeight;if(window.innerWidth>768&&!navMenu.classList.contains('collapsed')){stickyOffset+=(navMenu.offsetHeight||0)+20}else if(window.innerWidth<=768&&navMenu.classList.contains('active')){const navMenuHeader=navMenu.querySelector('.content-nav-menu-header');if(navMenuHeader){stickyOffset+=(navMenuHeader.offsetHeight||60)}}
                const tolerance=150;let activeSection=null;let closestSection=null;let closestDistance=Infinity;sections.forEach(function(section){const sectionId=section.getAttribute('id');if(!sectionId)return;const rect=section.getBoundingClientRect();const sectionTop=rect.top+scrollPosition;const distanceFromOffset=rect.top-stickyOffset;const isVisible=rect.top<window.innerHeight&&rect.bottom>stickyOffset;if(isVisible){const absoluteDistance=Math.abs(distanceFromOffset);if(absoluteDistance<closestDistance){closestDistance=absoluteDistance;closestSection=sectionId}
                    if(distanceFromOffset<=tolerance&&distanceFromOffset>=-tolerance){activeSection=sectionId}}});if(!activeSection&&closestSection){activeSection=closestSection}
                if(scrollPosition<stickyOffset+tolerance){activeSection='inceleme-baslik'}
                navLinks.forEach(function(link){link.classList.remove('active');if(link.getAttribute('data-section')===activeSection){link.classList.add('active');updateActiveTitle(activeSection)}});if(!activeSection){if(activeTitleElement){activeTitleElement.classList.remove('show')}}};let ticking=!1;let lastScrollTop=0;window.addEventListener('scroll',function(){if(!ticking){window.requestAnimationFrame(function(){const currentScrollTop=window.pageYOffset||window.scrollY;const scrollDelta=Math.abs(currentScrollTop-lastScrollTop);if(scrollDelta>5){updateActiveLink();lastScrollTop=currentScrollTop}
                ticking=!1});ticking=!0}});updateActiveLink();let resizeTimeout;window.addEventListener('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){if(window.innerWidth<=768){navMenu.classList.remove('collapsed')}else{navMenu.classList.remove('active');navToggle.classList.remove('active');if(!navMenu.classList.contains('collapsed')){navMenu.classList.add('collapsed')}}},100)})}},init:function(){this.navigation.init();this.smoothScroll.init();this.backToTop.init();this.reviewForm.init();this.lazyLoad.init();this.headerScroll.init();this.comparisonFilters.init();this.contentNav.init()}};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',function(){BetThemeApp.init()})}else{BetThemeApp.init()}})()
