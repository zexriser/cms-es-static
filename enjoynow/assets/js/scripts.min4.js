!function(){"use strict";const e={config:{breakpoints:{mobile:768,tablet:1024,desktop:1200},animation:{duration:300,easing:"ease-in-out"},themes:{light:"https://cdn.jsdelivr.net/gh/zexriser/cms-es-static@main/enjoynow/assets/css/white-theme.min.css",dark:"https://cdn.jsdelivr.net/gh/zexriser/cms-es-static@main/enjoynow/assets/css/dark-theme.min.css"},gallery:{autoAdvanceInterval:5e3},scroll:{backToTopThreshold:300}},navigation:{elements:{navToggle:document.querySelector(".mobile-menu-toggle"),navMenu:document.querySelector(".mobile-menu-overlay"),closeBtn:document.querySelector(".mobile-menu-close"),body:document.body},init(){const{navToggle:e,navMenu:t,closeBtn:n,body:i}=this.elements;e&&t&&(e.addEventListener("click",(()=>this.toggleMenu())),n&&n.addEventListener("click",(()=>this.closeMenu())),t.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(()=>this.closeMenu()))})),document.addEventListener("click",(e=>this.closeMenuOnOutsideClick(e))))},toggleMenu(){const{navMenu:e,navToggle:t,body:n}=this.elements;e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("mobile-menu-open")},closeMenu(){const{navMenu:e,navToggle:t,body:n}=this.elements;e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("mobile-menu-open")},closeMenuOnOutsideClick(e){const{navToggle:t,navMenu:n}=this.elements;t.contains(e.target)||n.contains(e.target)||this.closeMenu()}},backToTop:{elements:{backToTop:document.querySelector(".back-to-top")},init(){const{backToTop:e}=this.elements;e&&(window.addEventListener("scroll",(()=>this.toggleVisibility())),e.addEventListener("click",(()=>this.scrollToTop())))},toggleVisibility(){const{backToTop:t}=this.elements;t.classList.toggle("visible",window.scrollY>e.config.scroll.backToTopThreshold)},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},gallerySlider:{init(){document.querySelectorAll(".gallery-slider").forEach((t=>{const n=t.querySelectorAll(".gallery-slide"),i=t.parentElement.querySelector(".gallery-nav.prev"),o=t.parentElement.querySelector(".gallery-nav.next");let s=0;const l=e=>{n.forEach((e=>e.classList.remove("active"))),n[e].classList.add("active")},r=()=>{s=(s+1)%n.length,l(s)};i&&i.addEventListener("click",(()=>{s=(s-1+n.length)%n.length,l(s)})),o&&o.addEventListener("click",r),setInterval(r,e.config.gallery.autoAdvanceInterval)}))}},formValidator:{init(){document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(e=>this.validate(e)))}))},validate(e){e.preventDefault();const t=e.target,n=t.querySelectorAll("input[required], textarea[required]");let i=!0;n.forEach((e=>{const t=document.getElementById(e.name+"Error");t&&(t.textContent=""),e.value.trim()?"email"!==e.type||this.isValidEmail(e.value)||(this.showError(e,"Please enter a valid email address"),i=!1):(this.showError(e,"This field is required"),i=!1)})),i&&this.showSuccess(t)},showError(e,t){const n=document.getElementById(e.name+"Error");n&&(n.textContent=t),e.style.borderColor="var(--error)"},showSuccess(e){const t=document.createElement("div");t.textContent="Thank you! Your message has been sent.",t.style.cssText="background: var(--success); color: white; padding: 1rem; border-radius: 4px; margin-top: 1rem;",e.appendChild(t),setTimeout((()=>{t.remove(),e.reset()}),3e3)},isValidEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},attributes:{elements:{addAttributeBtn:document.getElementById("addAttribute"),attributesContainer:document.getElementById("attributesContainer")},init(){const{addAttributeBtn:e,attributesContainer:t}=this.elements;e&&t&&(e.addEventListener("click",(()=>this.addAttribute())),t.addEventListener("click",(e=>this.removeAttribute(e))))},addAttribute(){const{attributesContainer:e}=this.elements,t=document.createElement("div");t.className="attribute-item",t.innerHTML='\n                    <input type="text" placeholder="Attribute" class="attribute-key">\n                    <input type="text" placeholder="Value" class="attribute-value">\n                    <button type="button" class="remove-attribute" aria-label="Remove attribute">√ó</button>\n                ',e.appendChild(t)},removeAttribute(e){e.target.classList.contains("remove-attribute")&&e.target.parentElement.remove()}},loadMore:{elements:{loadMoreBtn:document.getElementById("loadMore")},init(){const{loadMoreBtn:e}=this.elements;e&&e.addEventListener("click",(()=>this.loadProfiles()))},loadProfiles(){const{loadMoreBtn:e}=this.elements;e.textContent="Loading...",setTimeout((()=>{e.textContent="Load More Profiles"}),1e3)}},filters:{elements:{filterButtons:document.querySelectorAll("#applyFilters, #clearFilters")},init(){const{filterButtons:e}=this.elements;e.forEach((e=>{e.addEventListener("click",(()=>this.handleFilter(e)))}))},handleFilter(e){"clearFilters"===e.id&&document.querySelectorAll("select").forEach((e=>{e.value=""}))}},smoothScroll:{init(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(e=>this.handleScroll(e)))}))},handleScroll(e){e.preventDefault();const t=document.querySelector(e.currentTarget.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"})}},cookieBanner:{elements:{cookieBanner:document.querySelector(".cookie-banner")},init(){const{cookieBanner:e}=this.elements;if(e){const t=e.querySelector(".btn-accept");t&&t.addEventListener("click",(()=>this.acceptCookies())),localStorage.getItem("cookiesAccepted")?e.style.display="none":(e.style.display="block",e.classList.add("visible"))}},acceptCookies(){const{cookieBanner:e}=this.elements;e.style.display="none",localStorage.setItem("cookiesAccepted","true")}},profileGallery:{elements:{imageGallery:document.querySelector(".image-gallery"),mainImage:document.getElementById("mainImage"),thumbnails:document.querySelectorAll(".gallery-thumbs img"),prevBtn:document.getElementById("prevImage"),nextBtn:document.getElementById("nextImage")},images:[],init(){const{imageGallery:e,mainImage:t,thumbnails:n,prevBtn:i,nextBtn:o}=this.elements;if(this.images=Array.from(n).map((e=>e.getAttribute("data-full"))),!(this.images.length&&e&&t&&n.length))return void(e&&(e.innerHTML="<p>Galeride g√∂r√ºnt√º bulunmamaktadƒ±r.</p>"));let s=0;const l=e=>{this.images[e]&&(t.src=this.images[e],n.forEach(((t,n)=>{t.classList.toggle("active",n===e)})),s=e)};n.forEach(((e,t)=>{e.addEventListener("click",(()=>{l(t)}))})),i&&i.addEventListener("click",(()=>{const e=(s-1+this.images.length)%this.images.length;l(e)})),o&&o.addEventListener("click",(()=>{const e=(s+1)%this.images.length;l(e)})),l(0)}},themeSwitcher:{elements:{themeStylesheet:document.getElementById("themeStylesheet"),headerContent:document.querySelector(".header-content")},init(){const{themeStylesheet:t,headerContent:n}=this.elements;if(t&&n){const i=document.createElement("button");i.className="theme-toggle",i.innerHTML="üåô",i.setAttribute("aria-label","Switch theme"),i.style.cssText=`\n                        background: none;\n                        border: 1px solid var(--border);\n                        border-radius: 4px;\n                        width: 40px;\n                        height: 40px;\n                        cursor: pointer;\n                        font-size: 1.2rem;\n                        margin-left: 1rem;\n                        transition: all ${e.config.animation.duration}ms ${e.config.animation.easing};\n                    `;const o=document.querySelector(".nav");o?o.appendChild(i):n.appendChild(i);"light"===(localStorage.getItem("theme")||"dark")?(t.href=e.config.themes.light,i.innerHTML="‚òÄÔ∏è"):(t.href=e.config.themes.dark,i.innerHTML="üåô"),i.addEventListener("click",(()=>this.toggleTheme()))}},toggleTheme(){const{themeStylesheet:t}=this.elements,n=document.querySelector(".theme-toggle");t.href.includes("white-theme")?(t.href=e.config.themes.dark,n.innerHTML="üåô",localStorage.setItem("theme","dark")):(t.href=e.config.themes.light,n.innerHTML="‚òÄÔ∏è",localStorage.setItem("theme","light"))}},pagination:{elements:{paginationLinks:document.querySelectorAll(".pagination a")},init(){const{paginationLinks:e}=this.elements;e.forEach((e=>{e.addEventListener("click",(e=>this.handlePagination(e)))}))},handlePagination(e){e.preventDefault();const{paginationLinks:t}=this.elements;t.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active"),window.scrollTo({top:0,behavior:"smooth"}),window.location.href=e.target.href}},lazyLoading:{init(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),t.unobserve(n)}}))}));e.forEach((e=>t.observe(e)))}},sidebarScroll:{sidebar:null,mainContent:null,footer:null,headerHeight:130,init({sidebarSelector:e=".sidebar",mainContentSelector:t=".main-content",footerSelector:n=".footer",headerHeight:i=130}={}){this.sidebar=document.querySelector(e),this.mainContent=document.querySelector(t),this.footer=document.querySelector(n),this.headerHeight=i,this.sidebar&&this.mainContent&&(window.addEventListener("scroll",(()=>this.update())),window.addEventListener("resize",(()=>this.update())),window.addEventListener("load",(()=>this.update())),this.update())},update(){const e=this.sidebar,t=this.mainContent,n=this.footer;if(window.innerWidth<=768)return void this.reset();const i=e.offsetHeight;if(t.offsetHeight<=i)return void this.reset();const o=window.scrollY,s=t.getBoundingClientRect().top+o,l=(n?n.getBoundingClientRect().top+o:1/0)-i-20;o+this.headerHeight<s?(e.style.position="relative",e.style.top="0"):o+this.headerHeight<l?(e.style.position="fixed",e.style.top=`${this.headerHeight}px`):(e.style.position="absolute",e.style.top=l-s+"px")},reset(){this.sidebar&&(this.sidebar.style.position="relative",this.sidebar.style.top="0")}},commentReply:{elements:{replyButtons:document.querySelectorAll(".reply-btn")},init(){const{replyButtons:e}=this.elements;e.forEach((e=>{e.addEventListener("click",(()=>this.toggleReplyForm(e)))}))},toggleReplyForm(e){const t=e.closest(".review-item").dataset.commentId,n=document.getElementById(`reply-form-${t}`);n&&(n.style.display="none"===n.style.display?"block":"none")}},init(){this.navigation.init(),this.backToTop.init(),this.gallerySlider.init(),this.formValidator.init(),this.attributes.init(),this.loadMore.init(),this.filters.init(),this.smoothScroll.init(),this.cookieBanner.init(),this.profileGallery.init(),this.themeSwitcher.init(),this.pagination.init(),this.lazyLoading.init(),this.sidebarScroll.init(),this.commentReply.init()}};document.addEventListener("DOMContentLoaded",(()=>{e.init()})),window.EnjoyNowApp=e}();
